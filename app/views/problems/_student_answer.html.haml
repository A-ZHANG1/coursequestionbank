- if test_problem.problem_type == "MultipleChoice" or test_problem.problem_type == "TrueFalse"
  %div.question{:id => "#{test_problem.uid}", :class => "multiple_choice_question"}
    %p
      = test_problem.question_text.html_safe
    - if !test_problem.question_image.nil?
      %br
        = image_tag test_problem.question_image, :style => "max-width: 600px;"
    %div.question-entrys
      %div.entrys{:tag => "multiple"}
        - for i in (0..test_problem.answer_entrys.length - 1)
          - correct = test_problem.answer_correct?[i]
          %div.entrybox{:answer_id => "entry_#{i+1}", :correct => correct.to_s}
            %div.entrybody
              - if can? :see_answer, test_problem
                %input{:type=> "radio", :name => "#{test_problem.uid}", :value=> 1, :checked=>test_problem.answer_correct?[i]}
              - else
                %input{:type=> "radio", :name => "#{test_problem.uid}", :value=> 1, :checked=>false}
              %p.entrytext
                = test_problem.answer_entrys[i].strip.html_safe
            %div.entryexplain{:style => "display:none"}
              %p.entrytext
                = test_problem.answer_explanation[i].strip
      %button{:type => "button", :class => "button-check btn btn-default check-answer"}
        Check Answer

- if test_problem.problem_type == "SelectMultiple"
  %div.question{:id => "#{test_problem.uid}", :class => "select_multiple_question"}
    %p
      = test_problem.question_text.html_safe
    - if !test_problem.question_image.nil?
      %br
        = image_tag test_problem.question_image, :style => "max-height: 400px;"
    %div.entrys{:tag => "multiple"}
      - for i in (0..test_problem.answer_entrys.length - 1)
        %div.entrybox{:answer_id => "entry_#{i+1}"}
          %div.entrybody
            %input{:type=> "checkbox", :name => "#{test_problem.uid}", :value=> 1, :checked=>test_problem.answer_correct?[i]}
            %p.entrytext
              = test_problem.answer_entrys[i].strip.html_safe
          %div.entryexplain
            %p.entrytext
              = test_problem.answer_explanation[i].strip
    %button{:type => "button", :class => "button-check btn btn-default"}
      Check Answer

- if test_problem.problem_type == "FillIn"
  %div.question{:id => "#{test_problem.uid}", :class => "question"}
    %p
      = test_problem.question_text.html_safe
    - if !test_problem.question_image.nil?
      %br
        = image_tag test_problem.question_image, :style => "max-height: 400px;"
    = "Your Answer:"
    %input{:type => "text"}
    %button{:type => "button", :class => "button-check btn btn-default"}
      Check Answer

- if test_problem.problem_type == "Group"
  %div.question{:id => "#{test_problem.uid}", :class => "question"}
    %p
      = test_problem.question_text.html_safe
    - if !test_problem.question_image.nil?
      %br
        = image_tag test_problem.question_image, :style => "max-height: 400px;"
    - sub_questions = test_problem.sub_questions
    - for i in (0..sub_questions.length - 1)
      - sub_question = sub_questions[i]
      = render :partial => "problems/student_answer", :locals => {:test_problem => sub_question}
